<?xml version="1.0" encoding="UTF-8"?>
<CommandTranslatorRule priority="3" name="Invert ROI rule">This rule catches calls to the "Invert" command in Edit menu, that invert the portion of image under the current ROI. It applies to a given ImageProcessor.
	<Matcher class_name="ij.plugin.filter.Filters" arguments="invert" modifiers=".+" command="(&lt;command&gt;;.+)"></Matcher>
	<PythonTranslator>
# Get current ImagePlus
image = WindowManager.getCurrentImage()
# Get current ImageProcessor (i.e. the current displayed slice)
ip = image.getProcessor()
# Invert what is under the ROI, or the whole image if there is none
ip.invert()
# Refresh display
image.updateAndDraw()
	</PythonTranslator>
</CommandTranslatorRule>
